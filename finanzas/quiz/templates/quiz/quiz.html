{% extends "layouts/base.html" %}

{% block content %}
<div class="container mx-auto py-8 text-center">
    
    {% if tiene_quiz %}
        <h1 class="text-3xl font-bold mb-4" style="color: #e67e22;">⚠️ Atención</h1>
        <div class="alert alert-warning mb-4" style="background-color: #fff3cd; padding: 20px; border-radius: 10px;">
            <p style="font-size: 1.2rem;">
                Hola <strong>{{ usuario.nombre }}</strong>, actualmente ya tienes asignado el perfil: 
                <strong>{{ usuario.perfil.nombre|default:"Sin definir" }}</strong>.
            </p>
            <br>
            <p>Si realizas el quiz de nuevo, <strong>se borrará tu perfil actual y tu puntaje anterior</strong>.</p>
        </div>
        
        <p class="mb-4">¿Estás seguro de que quieres volver a empezar?</p>
        
        <div style="display: flex; gap: 20px; justify-content: center;">
            <a href="{% url 'index' %}" class="btn" style="background-color: #95a5a6; color: white; padding: 10px 20px; border-radius: 5px; text-decoration: none;">
                Cancelar (Mantener mi perfil)
            </a>
            <a href="{% url 'quiz_start' %}" class="btn" style="background-color: #e74c3c; color: white; padding: 10px 20px; border-radius: 5px; text-decoration: none;">
                Sí, quiero hacerlo de nuevo
            </a>
        </div>

    {% else %}
        <h1 class="text-3xl font-bold mb-4">Descubre tu Perfil Financiero</h1>
        <p class="mb-4">Bienvenido al quiz. Responde honestamente para obtener las mejores recomendaciones.</p>
        <a href="{% url 'quiz_start' %}" class="inline-block px-4 py-2 bg-gradient-to-r from-green-400 to-blue-500 text-white rounded shadow" style="padding: 12px 30px; border-radius: 8px; text-decoration: none; background-color: #3498db;">
            Comenzar Quiz
        </a>
    {% endif %}

</div>
{% endblock %}