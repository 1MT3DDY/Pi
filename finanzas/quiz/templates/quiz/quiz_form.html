{% extends "recursos/layouts/base.html" %}

{% block content %}
<div class="container mt-5">
    <h2 class="mb-4">Cuestionario de Perfil de Inversi√≥n</h2>
    {% if can_take_quiz %}
    <form method="post">
        {% csrf_token %}
        {% for pregunta in preguntas %}
        <div class="card mb-4">
            <div class="card-body">
                <h5 class="card-title">{{ pregunta.pregunta }}</h5>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="pregunta_{{ pregunta.id_pregunta }}" value="1" required>
                    <label class="form-check-label">Conservador ({{ pregunta.respuesta_1 }} puntos)</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="pregunta_{{ pregunta.id_pregunta }}" value="2">
                    <label class="form-check-label">Moderado ({{ pregunta.respuesta_2 }} puntos)</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="pregunta_{{ pregunta.id_pregunta }}" value="3">
                    <label class="form-check-label">Arriesgado ({{ pregunta.respuesta_3 }} puntos)</label>
                </div>
            </div>
        </div>
        {% endfor %}
        <button type="submit" class="btn btn-primary">Enviar respuestas</button>
    </form>
    {% else %}
    <div class="alert alert-info">No puedes completar el quiz porque ya tienes uno asociado. Si crees que es un error, contacta al administrador.</div>
    <a href="{% url 'index' %}" class="btn btn-secondary">Volver al inicio</a>
    {% endif %}
</div>
{% endblock %}